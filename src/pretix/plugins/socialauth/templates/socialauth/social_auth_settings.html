{% extends "pretixcontrol/admin/base.html" %}
{% load i18n %}
{% load bootstrap3 %}
{% load rich_text %}

{% block title %}{% trans "Social login settings" %}{% endblock %}
{% block content %}
    <nav id="event-nav" class="header-nav">
        <div class="navigation">
            <div class="navigation-title">
                <h1>{% trans "Social login settings" %}</h1>
            </div>
            {% include "pretixcontrol/event/component_link.html" %}
        </div>
    </nav>
    <form action="" method="post" class="form-horizontal form-plugins">
        {% csrf_token %}
        {% if "success" in request.GET %}
            <div class="alert alert-success">
                {% trans "Your changes have been saved." %}
            </div>
        {% endif %}
        <div class="tabbed-form">
            <fieldset>
                <legend>{% trans "Social login providers" %}</legend>
                <div class="table-responsive">
                    <table class="table">
                        {% for provider, enabled in login_providers.items %}
                        <tr class="{% if enabled %}success{% else %}default{% endif %}">
                            <td>
                                {% with provider|capfirst as provider_capitalized %}
                                    <strong>{% trans provider_capitalized %}</strong>
                                    <p>{% blocktrans %}Login with {{ provider_capitalized }}{% endblocktrans %}</p>
                                {% endwith %}
                            </td>
                            <td class="text-right flip" width="20%">
                                {% if enabled %}
                                    <button class="btn btn-default btn-block" name="{{ provider }}_login" value="disabled">
                                        {% trans "Disabled" %}
                                    </button>
                                {% else %}
                                    <button class="btn btn-default btn-block" name="{{ provider }}_login" value="enabled">
                                        {% trans "Enabled" %}
                                    </button>
                                {% endif %}
                            </td>
                        </tr>
                        {% endfor %}
                    </table>
                </div>
            </fieldset>
        </div>
    </form>
{% endblock %}
