

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Data model &mdash; pretix 3.18.0.dev0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../../_static/css/pretix.css" type="text/css" />

  
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  
    <link rel="stylesheet" href="../../_static/css/pretix.css" type="text/css" />
  
    <link rel="stylesheet" href="../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.css" type="text/css" />
  

  
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="pretix 3.18.0.dev0 documentation" href="../../index.html"/>
        <link rel="up" title="Implementation and Utilities" href="index.html"/>
        <link rel="next" title="Working with URLs" href="urlconfig.html"/>
        <link rel="prev" title="Implementation and Utilities" href="index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/logo-white.svg" class="logo" />
          
          </a>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../user/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admin/index.html">Administrator documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">REST API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Developer documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../concepts.html">Concepts and Terminology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup.html">Development setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contribution/index.html">Contributing to pretix</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Implementation and Utilities</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Data model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#user-model">User model</a></li>
<li class="toctree-l4"><a class="reference internal" href="#organizers-and-events">Organizers and events</a></li>
<li class="toctree-l4"><a class="reference internal" href="#items">Items</a></li>
<li class="toctree-l4"><a class="reference internal" href="#carts-and-orders">Carts and Orders</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logging">Logging</a></li>
<li class="toctree-l4"><a class="reference internal" href="#invoicing">Invoicing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vouchers">Vouchers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="urlconfig.html">Working with URLs</a></li>
<li class="toctree-l3"><a class="reference internal" href="i18n.html">Internationalization</a></li>
<li class="toctree-l3"><a class="reference internal" href="settings.html">Settings storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="background.html">Background tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="email.html">Sending Email</a></li>
<li class="toctree-l3"><a class="reference internal" href="permissions.html">Permissions</a></li>
<li class="toctree-l3"><a class="reference internal" href="logging.html">Logging and notifications</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../translation/index.html">Translating pretix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/index.html">Plugin development</a></li>
<li class="toctree-l2"><a class="reference internal" href="../structure.html">Directory structure</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../plugins/index.html">Plugin documentation</a></li>
</ul>

            
          
        </div>

          
              
              
                  <div class="version">
                      3.18
                  </div>
              
          
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">pretix</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Developer documentation</a> &raquo;</li>
        
          <li><a href="index.html">Implementation and Utilities</a> &raquo;</li>
        
      <li>Data model</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/development/implementation/models.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="data-model">
<h1>Data model<a class="headerlink" href="#data-model" title="Permalink to this heading">¶</a></h1>
<p>pretix provides the following data(base) models. Every model and every model method or field that is not
documented here is considered private and should not be used by third-party plugins, as it may change
without advance notice.</p>
<section id="user-model">
<h2>User model<a class="headerlink" href="#user-model" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.User">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">User</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.User" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the user model used by pretix for authentication.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>email</strong> (<em>str</em>) – The user’s email address, used for identification.</p></li>
<li><p><strong>fullname</strong> (<em>str</em>) – The user’s full name. May be empty or null.</p></li>
<li><p><strong>is_active</strong> (<em>bool</em>) – Whether this user account is activated.</p></li>
<li><p><strong>is_staff</strong> (<em>bool</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> for system operators.</p></li>
<li><p><strong>date_joined</strong> (<em>datetime</em>) – The datetime of the user’s registration.</p></li>
<li><p><strong>locale</strong> (<em>str</em>) – The user’s preferred locale code.</p></li>
<li><p><strong>timezone</strong> (<em>str</em>) – The user’s preferred timezone.</p></li>
</ul>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.User.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.User.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.User.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.User.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.User.get_event_permission_set">
<span class="sig-name descname"><span class="pre">get_event_permission_set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">organizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">set</span></span></span><a class="headerlink" href="#pretix.base.models.User.get_event_permission_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a set of permissions (as strings) that a user holds for a particular event</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>organizer</strong> – The organizer of the event</p></li>
<li><p><strong>event</strong> – The event to check</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>set</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.User.get_events_with_any_permission">
<span class="sig-name descname"><span class="pre">get_events_with_any_permission</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.User.get_events_with_any_permission" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a queryset of events the user has any permissions to.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>request</strong> – The current request (optional). Required to detect staff sessions properly.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Iterable of Events</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.User.get_events_with_permission">
<span class="sig-name descname"><span class="pre">get_events_with_permission</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">permission</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.User.get_events_with_permission" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a queryset of events the user has a specific permissions to.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>request</strong> – The current request (optional). Required to detect staff sessions properly.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Iterable of Events</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.User.get_full_name">
<span class="sig-name descname"><span class="pre">get_full_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#pretix.base.models.User.get_full_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the first of the following user properties that is found to exist:</p>
<ul class="simple">
<li><p>Full name</p></li>
<li><p>Email address</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.User.get_organizer_permission_set">
<span class="sig-name descname"><span class="pre">get_organizer_permission_set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">organizer</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">set</span></span></span><a class="headerlink" href="#pretix.base.models.User.get_organizer_permission_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a set of permissions (as strings) that a user holds for a particular organizer</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>organizer</strong> – The organizer of the event</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>set</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.User.get_organizers_with_permission">
<span class="sig-name descname"><span class="pre">get_organizers_with_permission</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">permission</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.User.get_organizers_with_permission" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a queryset of organizers the user has a specific permissions to.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>request</strong> – The current request (optional). Required to detect staff sessions properly.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Iterable of Organizers</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.User.get_session_auth_hash">
<span class="sig-name descname"><span class="pre">get_session_auth_hash</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.User.get_session_auth_hash" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an HMAC that needs to</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.User.get_short_name">
<span class="sig-name descname"><span class="pre">get_short_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#pretix.base.models.User.get_short_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the first of the following user properties that is found to exist:</p>
<ul class="simple">
<li><p>Full name</p></li>
<li><p>Email address</p></li>
</ul>
<p>Only present for backwards compatibility</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.User.has_active_staff_session">
<span class="sig-name descname"><span class="pre">has_active_staff_session</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">session_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.User.has_active_staff_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether or not a user has an active staff session (formerly known as superuser session)
with the given session key.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.User.has_event_permission">
<span class="sig-name descname"><span class="pre">has_event_permission</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">organizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">perm_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#pretix.base.models.User.has_event_permission" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if this user is part of any team that grants access of type <code class="docutils literal notranslate"><span class="pre">perm_name</span></code>
to the event <code class="docutils literal notranslate"><span class="pre">event</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>organizer</strong> – The organizer of the event</p></li>
<li><p><strong>event</strong> – The event to check</p></li>
<li><p><strong>perm_name</strong> – The permission, e.g. <code class="docutils literal notranslate"><span class="pre">can_change_teams</span></code></p></li>
<li><p><strong>request</strong> – The current request (optional). Required to detect staff sessions properly.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.User.has_organizer_permission">
<span class="sig-name descname"><span class="pre">has_organizer_permission</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">organizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">perm_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.User.has_organizer_permission" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if this user is part of any team that grants access of type <code class="docutils literal notranslate"><span class="pre">perm_name</span></code>
to the organizer <code class="docutils literal notranslate"><span class="pre">organizer</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>organizer</strong> – The organizer to check</p></li>
<li><p><strong>perm_name</strong> – The permission, e.g. <code class="docutils literal notranslate"><span class="pre">can_change_teams</span></code></p></li>
<li><p><strong>request</strong> – The current request (optional). Required to detect staff sessions properly.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pretix.base.models.User.is_superuser">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_superuser</span></span><a class="headerlink" href="#pretix.base.models.User.is_superuser" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper for a deferred-loading field. When the value is read from this
object the first time, the query is executed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.User.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.User.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current instance. Override this in a subclass if you want to
control the saving process.</p>
<p>The ‘force_insert’ and ‘force_update’ parameters can be used to insist
that the “save” must be an SQL insert or update (or equivalent for
non-SQL backends), respectively. Normally, they should not be set.</p>
</dd></dl>

</dd></dl>

</section>
<section id="organizers-and-events">
<h2>Organizers and events<a class="headerlink" href="#organizers-and-events" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.Organizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">Organizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Organizer" title="Permalink to this definition">¶</a></dt>
<dd><p>This model represents an entity organizing events, e.g. a company, institution,
charity, person, …</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The organizer’s name</p></li>
<li><p><strong>slug</strong> (<em>str</em>) – A globally unique, short name for this organizer, to be used
in URLs and similar places.</p></li>
</ul>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.Organizer.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.Organizer.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.Organizer.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.Organizer.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pretix.base.models.Organizer.cache">
<span class="sig-name descname"><span class="pre">cache</span></span><a class="headerlink" href="#pretix.base.models.Organizer.cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an <code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectRelatedCache</span></code> object. This behaves equivalent to
Django’s built-in cache backends, but puts you into an isolated environment for
this organizer, so you don’t have to prefix your cache keys. In addition, the cache
is being cleared every time the organizer changes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Organizer.get_cache">
<span class="sig-name descname"><span class="pre">get_cache</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Organizer.get_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an <code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectRelatedCache</span></code> object. This behaves equivalent to
Django’s built-in cache backends, but puts you into an isolated environment for
this organizer, so you don’t have to prefix your cache keys. In addition, the cache
is being cleared every time the organizer changes.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.9: </span>Use the property <code class="docutils literal notranslate"><span class="pre">cache</span></code> instead.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Organizer.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Organizer.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current instance. Override this in a subclass if you want to
control the saving process.</p>
<p>The ‘force_insert’ and ‘force_update’ parameters can be used to insist
that the “save” must be an SQL insert or update (or equivalent for
non-SQL backends), respectively. Normally, they should not be set.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.Event">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">Event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Event" title="Permalink to this definition">¶</a></dt>
<dd><p>This model represents an event. An event is anything you can buy
tickets for.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>organizer</strong> (<a class="reference internal" href="#pretix.base.models.Organizer" title="pretix.base.models.Organizer"><em>Organizer</em></a>) – The organizer this event belongs to</p></li>
<li><p><strong>testmode</strong> (<em>bool</em>) – This event is in test mode</p></li>
<li><p><strong>name</strong> (<em>str</em>) – This event’s full title</p></li>
<li><p><strong>slug</strong> (<em>str</em>) – A short, alphanumeric, all-lowercase name for use in URLs. The slug has to
be unique among the events of the same organizer.</p></li>
<li><p><strong>live</strong> (<em>bool</em>) – Whether or not the shop is publicly accessible</p></li>
<li><p><strong>currency</strong> (<em>str</em>) – The currency of all prices and payments of this event</p></li>
<li><p><strong>date_from</strong> (<em>datetime</em>) – The datetime this event starts</p></li>
<li><p><strong>date_to</strong> (<em>datetime</em>) – The datetime this event ends</p></li>
<li><p><strong>presale_start</strong> (<em>datetime</em>) – No tickets will be sold before this date.</p></li>
<li><p><strong>presale_end</strong> (<em>datetime</em>) – No tickets will be sold after this date.</p></li>
<li><p><strong>location</strong> (<em>str</em>) – venue</p></li>
<li><p><strong>plugins</strong> (<em>str</em>) – A comma-separated list of plugin names that are active for this
event.</p></li>
<li><p><strong>has_subevents</strong> (<em>bool</em>) – Enable event series functionality</p></li>
<li><p><strong>sales_channels</strong> (<em>list</em>) – A list of sales channel identifiers, that this event is available for sale on</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="pretix.base.models.Event.cache">
<span class="sig-name descname"><span class="pre">cache</span></span><a class="headerlink" href="#pretix.base.models.Event.cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an <code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectRelatedCache</span></code> object. This behaves equivalent to
Django’s built-in cache backends, but puts you into an isolated environment for
this event, so you don’t have to prefix your cache keys. In addition, the cache
is being cleared every time the event or one of its related objects change.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Event.get_date_from_display">
<span class="sig-name descname"><span class="pre">get_date_from_display</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_times</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">short</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#pretix.base.models.Event.get_date_from_display" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a formatted string containing the start date of the event with respect
to the current locale and to the <code class="docutils literal notranslate"><span class="pre">show_times</span></code> setting.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Event.get_date_range_display">
<span class="sig-name descname"><span class="pre">get_date_range_display</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_show_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#pretix.base.models.Event.get_date_range_display" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a formatted string containing the start date and the end date
of the event with respect to the current locale and to the <code class="docutils literal notranslate"><span class="pre">show_date_to</span></code>
setting. Times are not shown.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Event.get_date_to_display">
<span class="sig-name descname"><span class="pre">get_date_to_display</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_times</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">short</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#pretix.base.models.Event.get_date_to_display" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a formatted string containing the start date of the event with respect
to the current locale and to the <code class="docutils literal notranslate"><span class="pre">show_times</span></code> setting. Returns an empty string
if <code class="docutils literal notranslate"><span class="pre">show_date_to</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Event.get_invoice_renderers">
<span class="sig-name descname"><span class="pre">get_invoice_renderers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#pretix.base.models.Event.get_invoice_renderers" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary of initialized invoice renderers mapped by their identifiers.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Event.get_mail_backend">
<span class="sig-name descname"><span class="pre">get_mail_backend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_custom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Event.get_mail_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an email server connection, either by using the system-wide connection
or by returning a custom one based on the event’s settings.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Event.get_payment_providers">
<span class="sig-name descname"><span class="pre">get_payment_providers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cached</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#pretix.base.models.Event.get_payment_providers" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary of initialized payment providers mapped by their identifiers.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Event.get_plugins">
<span class="sig-name descname"><span class="pre">get_plugins</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Event.get_plugins" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the names of the plugins activated for this event as a list.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Event.get_time_from_display">
<span class="sig-name descname"><span class="pre">get_time_from_display</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#pretix.base.models.Event.get_time_from_display" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a formatted string containing the start time of the event, ignoring
the <code class="docutils literal notranslate"><span class="pre">show_times</span></code> setting.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pretix.base.models.Event.invoice_renderer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">invoice_renderer</span></span><a class="headerlink" href="#pretix.base.models.Event.invoice_renderer" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the currently configured invoice renderer.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Event.lock">
<span class="sig-name descname"><span class="pre">lock</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Event.lock" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a contextmanager that can be used to lock an event for bookings.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pretix.base.models.Event.payment_term_last">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">payment_term_last</span></span><a class="headerlink" href="#pretix.base.models.Event.payment_term_last" title="Permalink to this definition">¶</a></dt>
<dd><p>The last datetime of payments for this event.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pretix.base.models.Event.presale_has_ended">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">presale_has_ended</span></span><a class="headerlink" href="#pretix.base.models.Event.presale_has_ended" title="Permalink to this definition">¶</a></dt>
<dd><p>Is true, when <code class="docutils literal notranslate"><span class="pre">presale_end</span></code> is set and in the past.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pretix.base.models.Event.presale_is_running">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">presale_is_running</span></span><a class="headerlink" href="#pretix.base.models.Event.presale_is_running" title="Permalink to this definition">¶</a></dt>
<dd><p>Is true, when <code class="docutils literal notranslate"><span class="pre">presale_end</span></code> is not set or in the future and <code class="docutils literal notranslate"><span class="pre">presale_start</span></code> is not
set or in the past.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.SubEvent">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">SubEvent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.SubEvent" title="Permalink to this definition">¶</a></dt>
<dd><p>This model represents a date within an event series.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<a class="reference internal" href="#pretix.base.models.Event" title="pretix.base.models.Event"><em>Event</em></a>) – The event this belongs to</p></li>
<li><p><strong>active</strong> (<em>bool</em>) – Whether to show the subevent</p></li>
<li><p><strong>is_public</strong> (<em>bool</em>) – Whether to show the subevent in lists</p></li>
<li><p><strong>name</strong> (<em>str</em>) – This event’s full title</p></li>
<li><p><strong>date_from</strong> (<em>datetime</em>) – The datetime this event starts</p></li>
<li><p><strong>date_to</strong> (<em>datetime</em>) – The datetime this event ends</p></li>
<li><p><strong>presale_start</strong> (<em>datetime</em>) – No tickets will be sold before this date.</p></li>
<li><p><strong>presale_end</strong> (<em>datetime</em>) – No tickets will be sold after this date.</p></li>
<li><p><strong>location</strong> (<em>str</em>) – venue</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.SubEvent.get_date_from_display">
<span class="sig-name descname"><span class="pre">get_date_from_display</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_times</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">short</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#pretix.base.models.SubEvent.get_date_from_display" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a formatted string containing the start date of the event with respect
to the current locale and to the <code class="docutils literal notranslate"><span class="pre">show_times</span></code> setting.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.SubEvent.get_date_range_display">
<span class="sig-name descname"><span class="pre">get_date_range_display</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_show_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#pretix.base.models.SubEvent.get_date_range_display" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a formatted string containing the start date and the end date
of the event with respect to the current locale and to the <code class="docutils literal notranslate"><span class="pre">show_date_to</span></code>
setting. Times are not shown.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.SubEvent.get_date_to_display">
<span class="sig-name descname"><span class="pre">get_date_to_display</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_times</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">short</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#pretix.base.models.SubEvent.get_date_to_display" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a formatted string containing the start date of the event with respect
to the current locale and to the <code class="docutils literal notranslate"><span class="pre">show_times</span></code> setting. Returns an empty string
if <code class="docutils literal notranslate"><span class="pre">show_date_to</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.SubEvent.get_time_from_display">
<span class="sig-name descname"><span class="pre">get_time_from_display</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#pretix.base.models.SubEvent.get_time_from_display" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a formatted string containing the start time of the event, ignoring
the <code class="docutils literal notranslate"><span class="pre">show_times</span></code> setting.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pretix.base.models.SubEvent.presale_has_ended">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">presale_has_ended</span></span><a class="headerlink" href="#pretix.base.models.SubEvent.presale_has_ended" title="Permalink to this definition">¶</a></dt>
<dd><p>Is true, when <code class="docutils literal notranslate"><span class="pre">presale_end</span></code> is set and in the past.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pretix.base.models.SubEvent.presale_is_running">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">presale_is_running</span></span><a class="headerlink" href="#pretix.base.models.SubEvent.presale_is_running" title="Permalink to this definition">¶</a></dt>
<dd><p>Is true, when <code class="docutils literal notranslate"><span class="pre">presale_end</span></code> is not set or in the future and <code class="docutils literal notranslate"><span class="pre">presale_start</span></code> is not
set or in the past.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.Team">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">Team</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Team" title="Permalink to this definition">¶</a></dt>
<dd><p>A team is a collection of people given certain access rights to one or more events of an organizer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of this team</p></li>
<li><p><strong>organizer</strong> (<a class="reference internal" href="#pretix.base.models.Organizer" title="pretix.base.models.Organizer"><em>Organizer</em></a>) – The organizer this team belongs to</p></li>
<li><p><strong>members</strong> – A set of users who belong to this team</p></li>
<li><p><strong>all_events</strong> (<em>bool</em>) – Whether this team has access to all events of this organizer</p></li>
<li><p><strong>limit_events</strong> – A set of events this team has access to. Irrelevant if <code class="docutils literal notranslate"><span class="pre">all_events</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>can_create_events</strong> (<em>bool</em>) – Whether or not the members can create new events with this organizer account.</p></li>
<li><p><strong>can_change_teams</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the members can change the teams of this organizer account.</p></li>
<li><p><strong>can_change_organizer_settings</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the members can change the settings of this organizer account.</p></li>
<li><p><strong>can_change_event_settings</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the members can change the settings of the associated events.</p></li>
<li><p><strong>can_change_items</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the members can change and add items and related objects for the associated events.</p></li>
<li><p><strong>can_view_orders</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the members can inspect details of all orders of the associated events.</p></li>
<li><p><strong>can_change_orders</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the members can change details of orders of the associated events.</p></li>
<li><p><strong>can_checkin_orders</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the members can perform check-in related actions.</p></li>
<li><p><strong>can_view_vouchers</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the members can inspect details of all vouchers of the associated events.</p></li>
<li><p><strong>can_change_vouchers</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the members can change and create vouchers for the associated events.</p></li>
</ul>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.Team.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.Team.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.Team.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.Team.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.TeamAPIToken">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">TeamAPIToken</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.TeamAPIToken" title="Permalink to this definition">¶</a></dt>
<dd><p>A TeamAPIToken represents an API token that has the same access level as the team it belongs to.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>team</strong> (<a class="reference internal" href="#pretix.base.models.Team" title="pretix.base.models.Team"><em>Team</em></a>) – The team the person is invited to</p></li>
<li><p><strong>name</strong> (<em>str</em>) – A human-readable name for the token</p></li>
<li><p><strong>active</strong> (<em>bool</em>) – Whether or not this token is active</p></li>
<li><p><strong>token</strong> (<em>str</em>) – The secret required to submit to the API</p></li>
</ul>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.TeamAPIToken.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.TeamAPIToken.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.TeamAPIToken.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.TeamAPIToken.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.TeamAPIToken.get_event_permission_set">
<span class="sig-name descname"><span class="pre">get_event_permission_set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">organizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">set</span></span></span><a class="headerlink" href="#pretix.base.models.TeamAPIToken.get_event_permission_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a set of permissions (as strings) that a token holds for a particular event</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>organizer</strong> – The organizer of the event</p></li>
<li><p><strong>event</strong> – The event to check</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>set of permissions</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.TeamAPIToken.get_events_with_any_permission">
<span class="sig-name descname"><span class="pre">get_events_with_any_permission</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.TeamAPIToken.get_events_with_any_permission" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a queryset of events the token has any permissions to.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Iterable of Events</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.TeamAPIToken.get_events_with_permission">
<span class="sig-name descname"><span class="pre">get_events_with_permission</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">permission</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.TeamAPIToken.get_events_with_permission" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a queryset of events the token has a specific permissions to.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>request</strong> – Ignored, for compatibility with User model</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Iterable of Events</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.TeamAPIToken.get_organizer_permission_set">
<span class="sig-name descname"><span class="pre">get_organizer_permission_set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">organizer</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">set</span></span></span><a class="headerlink" href="#pretix.base.models.TeamAPIToken.get_organizer_permission_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a set of permissions (as strings) that a token holds for a particular organizer</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>organizer</strong> – The organizer of the event</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>set of permissions</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.TeamAPIToken.has_event_permission">
<span class="sig-name descname"><span class="pre">has_event_permission</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">organizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">perm_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#pretix.base.models.TeamAPIToken.has_event_permission" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if this token is part of a team that grants access of type <code class="docutils literal notranslate"><span class="pre">perm_name</span></code>
to the event <code class="docutils literal notranslate"><span class="pre">event</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>organizer</strong> – The organizer of the event</p></li>
<li><p><strong>event</strong> – The event to check</p></li>
<li><p><strong>perm_name</strong> – The permission, e.g. <code class="docutils literal notranslate"><span class="pre">can_change_teams</span></code></p></li>
<li><p><strong>request</strong> – This parameter is ignored and only defined for compatibility reasons.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.TeamAPIToken.has_organizer_permission">
<span class="sig-name descname"><span class="pre">has_organizer_permission</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">organizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">perm_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.TeamAPIToken.has_organizer_permission" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if this token is part of a team that grants access of type <code class="docutils literal notranslate"><span class="pre">perm_name</span></code>
to the organizer <code class="docutils literal notranslate"><span class="pre">organizer</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>organizer</strong> – The organizer to check</p></li>
<li><p><strong>perm_name</strong> – The permission, e.g. <code class="docutils literal notranslate"><span class="pre">can_change_teams</span></code></p></li>
<li><p><strong>request</strong> – This parameter is ignored and only defined for compatibility reasons.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.RequiredAction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">RequiredAction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.RequiredAction" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents an action that is to be done by an admin. The admin will be
displayed a list of actions to do.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>datatime</strong> – The timestamp of the required action</p></li>
<li><p><strong>user</strong> (<a class="reference internal" href="#pretix.base.models.User" title="pretix.base.models.User"><em>User</em></a>) – The user that performed the action</p></li>
<li><p><strong>done</strong> (<em>bool</em>) – If this action has been completed or dismissed</p></li>
<li><p><strong>action_type</strong> (<em>str</em>) – The type of action that has to be performed. This is
used to look up the renderer used to describe the action in a human-
readable way. This should be some namespaced value using dotted
notation to avoid duplicates, e.g.
<code class="docutils literal notranslate"><span class="pre">&quot;pretix.plugins.banktransfer.incoming_transfer&quot;</span></code>.</p></li>
<li><p><strong>data</strong> (<em>str</em>) – Arbitrary data that can be used by the log action renderer</p></li>
</ul>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.RequiredAction.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.RequiredAction.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.RequiredAction.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.RequiredAction.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.RequiredAction.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.RequiredAction.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current instance. Override this in a subclass if you want to
control the saving process.</p>
<p>The ‘force_insert’ and ‘force_update’ parameters can be used to insist
that the “save” must be an SQL insert or update (or equivalent for
non-SQL backends), respectively. Normally, they should not be set.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.EventMetaProperty">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">EventMetaProperty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.EventMetaProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>An organizer account can have EventMetaProperty objects attached to define meta information fields
for its events. This information can be re-used for example in ticket layouts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>organizer</strong> (<a class="reference internal" href="#pretix.base.models.Organizer" title="pretix.base.models.Organizer"><em>Organizer</em></a>) – The organizer this property is defined for.</p></li>
<li><p><strong>name</strong> (<em>Name of the property</em><em>, </em><em>used in various places</em>) – Name</p></li>
<li><p><strong>default</strong> (<em>str</em>) – Default value</p></li>
</ul>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.EventMetaProperty.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.EventMetaProperty.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.EventMetaProperty.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.EventMetaProperty.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.EventMetaProperty.full_clean">
<span class="sig-name descname"><span class="pre">full_clean</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate_unique</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.EventMetaProperty.full_clean" title="Permalink to this definition">¶</a></dt>
<dd><p>Call clean_fields(), clean(), validate_unique(), and
validate_constraints() on the model. Raise a ValidationError for any
errors that occur.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.EventMetaValue">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">EventMetaValue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.EventMetaValue" title="Permalink to this definition">¶</a></dt>
<dd><p>A meta-data value assigned to an event.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<a class="reference internal" href="#pretix.base.models.Event" title="pretix.base.models.Event"><em>Event</em></a>) – The event this metadata is valid for</p></li>
<li><p><strong>property</strong> (<a class="reference internal" href="#pretix.base.models.EventMetaProperty" title="pretix.base.models.EventMetaProperty"><em>EventMetaProperty</em></a>) – The property this value belongs to</p></li>
<li><p><strong>value</strong> (<em>str</em>) – The actual value</p></li>
</ul>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.EventMetaValue.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.EventMetaValue.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.EventMetaValue.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.EventMetaValue.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.EventMetaValue.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.EventMetaValue.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current instance. Override this in a subclass if you want to
control the saving process.</p>
<p>The ‘force_insert’ and ‘force_update’ parameters can be used to insist
that the “save” must be an SQL insert or update (or equivalent for
non-SQL backends), respectively. Normally, they should not be set.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.SubEventMetaValue">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">SubEventMetaValue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.SubEventMetaValue" title="Permalink to this definition">¶</a></dt>
<dd><p>A meta-data value assigned to a sub-event.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<a class="reference internal" href="#pretix.base.models.Event" title="pretix.base.models.Event"><em>Event</em></a>) – The event this metadata is valid for</p></li>
<li><p><strong>property</strong> (<a class="reference internal" href="#pretix.base.models.EventMetaProperty" title="pretix.base.models.EventMetaProperty"><em>EventMetaProperty</em></a>) – The property this value belongs to</p></li>
<li><p><strong>value</strong> (<em>str</em>) – The actual value</p></li>
</ul>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.SubEventMetaValue.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.SubEventMetaValue.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.SubEventMetaValue.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.SubEventMetaValue.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.SubEventMetaValue.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.SubEventMetaValue.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current instance. Override this in a subclass if you want to
control the saving process.</p>
<p>The ‘force_insert’ and ‘force_update’ parameters can be used to insist
that the “save” must be an SQL insert or update (or equivalent for
non-SQL backends), respectively. Normally, they should not be set.</p>
</dd></dl>

</dd></dl>

</section>
<section id="items">
<h2>Items<a class="headerlink" href="#items" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.Item">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">Item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Item" title="Permalink to this definition">¶</a></dt>
<dd><p>An item is a thing which can be sold. It belongs to an event and may or may not belong to a category.
Items are often also called ‘products’ but are named ‘items’ internally due to historic reasons.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<a class="reference internal" href="#pretix.base.models.Event" title="pretix.base.models.Event"><em>Event</em></a>) – The event this item belongs to</p></li>
<li><p><strong>category</strong> (<a class="reference internal" href="#pretix.base.models.ItemCategory" title="pretix.base.models.ItemCategory"><em>ItemCategory</em></a>) – The category this belongs to. May be null.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – The name of this item</p></li>
<li><p><strong>active</strong> (<em>bool</em>) – Whether this item is being sold.</p></li>
<li><p><strong>description</strong> (<em>str</em>) – A short description</p></li>
<li><p><strong>default_price</strong> (<em>decimal.Decimal</em>) – The item’s default price</p></li>
<li><p><strong>tax_rate</strong> (<em>decimal.Decimal</em>) – The VAT tax that is included in this item’s price (in %)</p></li>
<li><p><strong>admission</strong> (<em>bool</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code>, if this item allows persons to enter the event (as opposed to e.g. merchandise)</p></li>
<li><p><strong>picture</strong> (<em>File</em>) – A product picture to be shown next to the product description</p></li>
<li><p><strong>available_from</strong> (<em>datetime</em>) – The date this product goes on sale</p></li>
<li><p><strong>available_until</strong> (<em>datetime</em>) – The date until when the product is on sale</p></li>
<li><p><strong>require_voucher</strong> (<em>bool</em>) – If set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, this item can only be bought using a voucher.</p></li>
<li><p><strong>hide_without_voucher</strong> (<em>bool</em>) – If set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, this item is only visible and available when a voucher is used.</p></li>
<li><p><strong>allow_cancel</strong> (<em>bool</em>) – If set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, an order with this product can not be canceled by the user.</p></li>
<li><p><strong>max_per_order</strong> (<em>int</em>) – Maximum number of times this item can be in an order. None for unlimited.</p></li>
<li><p><strong>min_per_order</strong> (<em>int</em>) – Minimum number of times this item needs to be in an order if bought at all. None for unlimited.</p></li>
<li><p><strong>checkin_attention</strong> (<em>bool</em>) – Requires special attention at check-in</p></li>
<li><p><strong>original_price</strong> (<em>decimal.Decimal</em>) – The item’s “original” price. Will not be used for any calculations, will just be shown.</p></li>
<li><p><strong>require_approval</strong> (<em>bool</em>) – If set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, orders containing this product can only be processed and paid after approved by an administrator</p></li>
<li><p><strong>sales_channels</strong> (<em>bool</em>) – Sales channels this item is available on.</p></li>
<li><p><strong>issue_giftcard</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, buying this product will give you a gift card with the value of the product’s price</p></li>
</ul>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.Item.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.Item.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.Item.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.Item.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Item.check_quotas">
<span class="sig-name descname"><span class="pre">check_quotas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignored_quotas</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count_waitinglist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subevent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_bundled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trust_parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fail_on_no_quotas</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Item.check_quotas" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is used to determine whether this Item is currently available
for sale.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ignored_quotas</strong> – If a collection if quota objects is given here, those
quotas will be ignored in the calculation. If this leads
to no quotas being checked at all, this method will return
unlimited availability.</p></li>
<li><p><strong>include_bundled</strong> – Also take availability of bundled items into consideration.</p></li>
<li><p><strong>trust_parameters</strong> – Disable checking of the subevent parameter and disable checking if
any variations exist (performance optimization).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>any of the return codes of <a class="reference internal" href="#pretix.base.models.Quota.availability" title="pretix.base.models.Quota.availability"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Quota.availability()</span></code></a>.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – if you call this on an item which has variations associated with it.
Please use the method on the ItemVariation object you are interested in.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Item.is_available">
<span class="sig-name descname"><span class="pre">is_available</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">now_dt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#pretix.base.models.Item.is_available" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether this item is available according to its <code class="docutils literal notranslate"><span class="pre">active</span></code> flag
and its <code class="docutils literal notranslate"><span class="pre">available_from</span></code> and <code class="docutils literal notranslate"><span class="pre">available_until</span></code> fields</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Item.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Item.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current instance. Override this in a subclass if you want to
control the saving process.</p>
<p>The ‘force_insert’ and ‘force_update’ parameters can be used to insist
that the “save” must be an SQL insert or update (or equivalent for
non-SQL backends), respectively. Normally, they should not be set.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.ItemCategory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">ItemCategory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.ItemCategory" title="Permalink to this definition">¶</a></dt>
<dd><p>Items can be sorted into these categories.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<a class="reference internal" href="#pretix.base.models.Event" title="pretix.base.models.Event"><em>Event</em></a>) – The event this category belongs to</p></li>
<li><p><strong>name</strong> (<em>str</em>) – The name of this category</p></li>
<li><p><strong>position</strong> (<em>int</em>) – An integer, used for sorting</p></li>
</ul>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.ItemCategory.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.ItemCategory.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.ItemCategory.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.ItemCategory.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.ItemCategory.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.ItemCategory.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current instance. Override this in a subclass if you want to
control the saving process.</p>
<p>The ‘force_insert’ and ‘force_update’ parameters can be used to insist
that the “save” must be an SQL insert or update (or equivalent for
non-SQL backends), respectively. Normally, they should not be set.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.ItemVariation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">ItemVariation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.ItemVariation" title="Permalink to this definition">¶</a></dt>
<dd><p>A variation of a product. For example, if your item is ‘T-Shirt’
then an example for a variation would be ‘T-Shirt XL’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item</strong> (<a class="reference internal" href="#pretix.base.models.Item" title="pretix.base.models.Item"><em>Item</em></a>) – The item this variation belongs to</p></li>
<li><p><strong>value</strong> (<em>str</em>) – A string defining this variation</p></li>
<li><p><strong>description</strong> (<em>str</em>) – A short description</p></li>
<li><p><strong>active</strong> (<em>bool</em>) – Whether this variation is being sold.</p></li>
<li><p><strong>default_price</strong> (<em>decimal.Decimal</em>) – This variation’s default price</p></li>
<li><p><strong>original_price</strong> (<em>decimal.Decimal</em>) – The item’s “original” price. Will not be used for any calculations, will just be shown.</p></li>
</ul>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.ItemVariation.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.ItemVariation.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.ItemVariation.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.ItemVariation.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.ItemVariation.check_quotas">
<span class="sig-name descname"><span class="pre">check_quotas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ignored_quotas</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count_waitinglist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subevent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_bundled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trust_parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fail_on_no_quotas</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#pretix.base.models.ItemVariation.check_quotas" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is used to determine whether this ItemVariation is currently
available for sale in terms of quotas.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ignored_quotas</strong> – If a collection if quota objects is given here, those
quotas will be ignored in the calculation. If this leads
to no quotas being checked at all, this method will return
unlimited availability.</p></li>
<li><p><strong>count_waitinglist</strong> – If <code class="docutils literal notranslate"><span class="pre">False</span></code>, waiting list entries will be ignored for quota calculation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>any of the return codes of <a class="reference internal" href="#pretix.base.models.Quota.availability" title="pretix.base.models.Quota.availability"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Quota.availability()</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.ItemVariation.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.ItemVariation.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current instance. Override this in a subclass if you want to
control the saving process.</p>
<p>The ‘force_insert’ and ‘force_update’ parameters can be used to insist
that the “save” must be an SQL insert or update (or equivalent for
non-SQL backends), respectively. Normally, they should not be set.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.SubEventItem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">SubEventItem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.SubEventItem" title="Permalink to this definition">¶</a></dt>
<dd><p>This model can be used to change the price of a product for a single subevent (i.e. a
date in an event series).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subevent</strong> (<a class="reference internal" href="#pretix.base.models.SubEvent" title="pretix.base.models.SubEvent"><em>SubEvent</em></a>) – The date this belongs to</p></li>
<li><p><strong>item</strong> (<a class="reference internal" href="#pretix.base.models.Item" title="pretix.base.models.Item"><em>Item</em></a>) – The item to modify the price for</p></li>
<li><p><strong>price</strong> (<em>Decimal</em>) – The modified price (or <code class="docutils literal notranslate"><span class="pre">None</span></code> for the original price)</p></li>
</ul>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.SubEventItem.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.SubEventItem.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.SubEventItem.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.SubEventItem.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.SubEventItem.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.SubEventItem.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current instance. Override this in a subclass if you want to
control the saving process.</p>
<p>The ‘force_insert’ and ‘force_update’ parameters can be used to insist
that the “save” must be an SQL insert or update (or equivalent for
non-SQL backends), respectively. Normally, they should not be set.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.SubEventItemVariation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">SubEventItemVariation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.SubEventItemVariation" title="Permalink to this definition">¶</a></dt>
<dd><p>This model can be used to change the price of a product variation for a single
subevent (i.e. a date in an event series).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subevent</strong> (<a class="reference internal" href="#pretix.base.models.SubEvent" title="pretix.base.models.SubEvent"><em>SubEvent</em></a>) – The date this belongs to</p></li>
<li><p><strong>variation</strong> (<a class="reference internal" href="#pretix.base.models.ItemVariation" title="pretix.base.models.ItemVariation"><em>ItemVariation</em></a>) – The variation to modify the price for</p></li>
<li><p><strong>price</strong> (<em>Decimal</em>) – The modified price (or <code class="docutils literal notranslate"><span class="pre">None</span></code> for the original price)</p></li>
</ul>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.SubEventItemVariation.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.SubEventItemVariation.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.SubEventItemVariation.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.SubEventItemVariation.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.SubEventItemVariation.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.SubEventItemVariation.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current instance. Override this in a subclass if you want to
control the saving process.</p>
<p>The ‘force_insert’ and ‘force_update’ parameters can be used to insist
that the “save” must be an SQL insert or update (or equivalent for
non-SQL backends), respectively. Normally, they should not be set.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.ItemAddOn">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">ItemAddOn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.ItemAddOn" title="Permalink to this definition">¶</a></dt>
<dd><p>An instance of this model indicates that buying a ticket of the time <code class="docutils literal notranslate"><span class="pre">base_item</span></code>
allows you to add up to <code class="docutils literal notranslate"><span class="pre">max_count</span></code> items from the category <code class="docutils literal notranslate"><span class="pre">addon_category</span></code>
to your order that will be associated with the base item.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_item</strong> (<a class="reference internal" href="#pretix.base.models.Item" title="pretix.base.models.Item"><em>Item</em></a>) – The base item the add-ons are attached to</p></li>
<li><p><strong>addon_category</strong> (<a class="reference internal" href="#pretix.base.models.ItemCategory" title="pretix.base.models.ItemCategory"><em>ItemCategory</em></a>) – The category the add-on can be chosen from</p></li>
<li><p><strong>min_count</strong> (<em>int</em>) – The minimal number of add-ons to be chosen</p></li>
<li><p><strong>max_count</strong> (<em>int</em>) – The maximal number of add-ons to be chosen</p></li>
<li><p><strong>position</strong> (<em>int</em>) – An integer used for sorting</p></li>
</ul>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.ItemAddOn.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.ItemAddOn.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.ItemAddOn.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.ItemAddOn.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.ItemAddOn.clean">
<span class="sig-name descname"><span class="pre">clean</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.ItemAddOn.clean" title="Permalink to this definition">¶</a></dt>
<dd><p>Hook for doing any extra model-wide validation after clean() has been
called on every field by self.clean_fields. Any ValidationError raised
by this method will not be associated with a particular field; it will
have a special-case association with the field defined by NON_FIELD_ERRORS.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.Question">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">Question</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Question" title="Permalink to this definition">¶</a></dt>
<dd><p>A question is an input field that can be used to extend a ticket by custom information,
e.g. “Attendee age”. The answers are found next to the position. The answers may be found
in QuestionAnswers, attached to OrderPositions/CartPositions. A question can allow one of
several input types, currently:</p>
<ul class="simple">
<li><p>a number (<code class="docutils literal notranslate"><span class="pre">TYPE_NUMBER</span></code>)</p></li>
<li><p>a one-line string (<code class="docutils literal notranslate"><span class="pre">TYPE_STRING</span></code>)</p></li>
<li><p>a multi-line string (<code class="docutils literal notranslate"><span class="pre">TYPE_TEXT</span></code>)</p></li>
<li><p>a boolean (<code class="docutils literal notranslate"><span class="pre">TYPE_BOOLEAN</span></code>)</p></li>
<li><p>a multiple choice option (<code class="docutils literal notranslate"><span class="pre">TYPE_CHOICE</span></code> and <code class="docutils literal notranslate"><span class="pre">TYPE_CHOICE_MULTIPLE</span></code>)</p></li>
<li><p>a file upload (<code class="docutils literal notranslate"><span class="pre">TYPE_FILE</span></code>)</p></li>
<li><p>a date (<code class="docutils literal notranslate"><span class="pre">TYPE_DATE</span></code>)</p></li>
<li><p>a time (<code class="docutils literal notranslate"><span class="pre">TYPE_TIME</span></code>)</p></li>
<li><p>a date and a time (<code class="docutils literal notranslate"><span class="pre">TYPE_DATETIME</span></code>)</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<a class="reference internal" href="#pretix.base.models.Event" title="pretix.base.models.Event"><em>Event</em></a>) – The event this question belongs to</p></li>
<li><p><strong>question</strong> (<em>str</em>) – The question text. This will be displayed next to the input field.</p></li>
<li><p><strong>type</strong> – One of the above types</p></li>
<li><p><strong>required</strong> (<em>bool</em>) – Whether answering this question is required for submitting an order including
items associated with this question.</p></li>
<li><p><strong>items</strong> – A set of <code class="docutils literal notranslate"><span class="pre">Items</span></code> objects that this question should be applied to</p></li>
<li><p><strong>ask_during_checkin</strong> (<em>bool</em>) – Whether to ask this question during check-in instead of during check-out.</p></li>
<li><p><strong>hidden</strong> (<em>bool</em>) – Whether to only show the question in the backend</p></li>
<li><p><strong>identifier</strong> (<em>str</em>) – An arbitrary, internal identifier</p></li>
<li><p><strong>dependency_question</strong> (<a class="reference internal" href="#pretix.base.models.Question" title="pretix.base.models.Question"><em>Question</em></a>) – This question will only show up if the referenced question is set to <cite>dependency_value</cite>.</p></li>
<li><p><strong>dependency_values</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – The values that <cite>dependency_question</cite> needs to be set to for this question to be applicable.</p></li>
</ul>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.Question.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.Question.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.Question.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.Question.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Question.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Question.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current instance. Override this in a subclass if you want to
control the saving process.</p>
<p>The ‘force_insert’ and ‘force_update’ parameters can be used to insist
that the “save” must be an SQL insert or update (or equivalent for
non-SQL backends), respectively. Normally, they should not be set.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.Quota">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">Quota</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Quota" title="Permalink to this definition">¶</a></dt>
<dd><p>A quota is a “pool of tickets”. It is there to limit the number of items
of a certain type to be sold. For example, you could have a quota of 500
applied to all of your items (because you only have that much space in your
venue), and also a quota of 100 applied to the VIP tickets for exclusivity.
In this case, no more than 500 tickets will be sold in total and no more
than 100 of them will be VIP tickets (but 450 normal and 50 VIP tickets
will be fine).</p>
<p>As always, a quota can not only be tied to an item, but also to specific
variations.</p>
<p>Please read the documentation section on quotas carefully before doing
anything with quotas. This might confuse you otherwise.</p>
<p>The AVAILABILITY_* constants represent various states of a quota allowing
its items/variations to be up for sale.</p>
<dl class="simple">
<dt>AVAILABILITY_OK</dt><dd><p>This item is available for sale.</p>
</dd>
<dt>AVAILABILITY_RESERVED</dt><dd><p>This item is currently not available for sale because all available
items are in people’s shopping carts. It might become available
again if those people do not proceed to the checkout.</p>
</dd>
<dt>AVAILABILITY_ORDERED</dt><dd><p>This item is currently not available for sale because all available
items are ordered. It might become available again if those people
do not pay.</p>
</dd>
<dt>AVAILABILITY_GONE</dt><dd><p>This item is completely sold out.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<a class="reference internal" href="#pretix.base.models.Event" title="pretix.base.models.Event"><em>Event</em></a>) – The event this belongs to</p></li>
<li><p><strong>subevent</strong> (<a class="reference internal" href="#pretix.base.models.SubEvent" title="pretix.base.models.SubEvent"><em>SubEvent</em></a>) – The event series date this belongs to, if event series are enabled</p></li>
<li><p><strong>name</strong> (<em>str</em>) – This quota’s name</p></li>
<li><p><strong>size</strong> (<em>int</em>) – The number of items in this quota</p></li>
<li><p><strong>items</strong> – The set of <a class="reference internal" href="#pretix.base.models.Item" title="pretix.base.models.Item"><code class="xref py py-class docutils literal notranslate"><span class="pre">Item</span></code></a> objects this quota applies to</p></li>
<li><p><strong>variations</strong> – The set of <a class="reference internal" href="#pretix.base.models.ItemVariation" title="pretix.base.models.ItemVariation"><code class="xref py py-class docutils literal notranslate"><span class="pre">ItemVariation</span></code></a> objects this quota applies to</p></li>
</ul>
</dd>
</dl>
<p>This model keeps a cache of the quota availability that is used in places where up-to-date
data is not important. This cache might be out of date even though a more recent quota was
calculated. This is intentional to keep database writes low. Currently, the cached values
are written whenever the quota is being calculated throughout the system and the cache is
at least 120 seconds old or if the new value is qualitatively “better” than the cached one
(i.e. more free quota).</p>
<p>There’s also a cronjob that refreshes the cache of every quota if there is any log entry in
the event that is newer than the quota’s cached time.</p>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.Quota.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.Quota.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.Quota.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.Quota.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.Quota.QuotaExceededException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">QuotaExceededException</span></span><a class="headerlink" href="#pretix.base.models.Quota.QuotaExceededException" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Quota.availability">
<span class="sig-name descname"><span class="pre">availability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">now_dt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count_waitinglist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#pretix.base.models.Quota.availability" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is used to determine whether Items or ItemVariations belonging
to this quota should currently be available for sale.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>count_waitinglist</strong> – Whether or not take waiting list reservations into account. Defaults
to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>_cache</strong> – A dictionary mapping quota IDs to availabilities. If this quota is already
contained in that dictionary, this value will be used. Otherwise, the dict
will be populated accordingly.</p></li>
<li><p><strong>allow_cache</strong> – Allow for values to be returned from the longer-term cache, see also
the documentation of this model class. Only works if <code class="docutils literal notranslate"><span class="pre">count_waitinglist</span></code> is
set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a tuple where the first entry is one of the <code class="docutils literal notranslate"><span class="pre">Quota.AVAILABILITY_</span></code> constants
and the second is the number of available tickets.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Quota.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Quota.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current instance. Override this in a subclass if you want to
control the saving process.</p>
<p>The ‘force_insert’ and ‘force_update’ parameters can be used to insist
that the “save” must be an SQL insert or update (or equivalent for
non-SQL backends), respectively. Normally, they should not be set.</p>
</dd></dl>

</dd></dl>

</section>
<section id="carts-and-orders">
<h2>Carts and Orders<a class="headerlink" href="#carts-and-orders" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.Order">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">Order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Order" title="Permalink to this definition">¶</a></dt>
<dd><p>An order is created when a user clicks ‘buy’ on his cart. It holds
several OrderPositions and is connected to a user. It has an
expiration date: If items run out of capacity, orders which are over
their expiration date might be canceled.</p>
<p>An order – like all objects – has an ID, which is globally unique,
but also a code, which is shorter and easier to memorize, but only
unique within a single conference.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>code</strong> (<em>str</em>) – In addition to the ID, which is globally unique, every
order has an order code, which is shorter and easier to
memorize, but is only unique within a single conference.</p></li>
<li><p><strong>status</strong> – <p>The status of this order. One of:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">STATUS_PENDING</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">STATUS_PAID</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">STATUS_EXPIRED</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">STATUS_CANCELED</span></code></p></li>
</ul>
</p></li>
<li><p><strong>event</strong> (<a class="reference internal" href="#pretix.base.models.Event" title="pretix.base.models.Event"><em>Event</em></a>) – The event this order belongs to</p></li>
<li><p><strong>email</strong> (<em>str</em>) – The email of the person who ordered this</p></li>
<li><p><strong>phone</strong> (<em>str</em>) – The phone number of the person who ordered this</p></li>
<li><p><strong>testmode</strong> (<em>bool</em>) – Whether this is a test mode order</p></li>
<li><p><strong>locale</strong> (<em>str</em>) – The locale of this order</p></li>
<li><p><strong>secret</strong> (<em>str</em>) – A secret string that is required to modify the order</p></li>
<li><p><strong>datetime</strong> (<em>datetime</em>) – The datetime of the order placement</p></li>
<li><p><strong>expires</strong> (<em>datetime</em>) – The date until this order has to be paid to guarantee the fulfillment</p></li>
<li><p><strong>total</strong> (<em>decimal.Decimal</em>) – The total amount of the order, including the payment fee</p></li>
<li><p><strong>comment</strong> (<em>str</em>) – An internal comment that will only be visible to staff, and never displayed to the user</p></li>
<li><p><strong>download_reminder_sent</strong> (<em>boolean</em>) – A field to indicate whether a download reminder has been sent.</p></li>
<li><p><strong>require_approval</strong> (<em>bool</em>) – If set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, this order is pending approval by an organizer</p></li>
<li><p><strong>meta_info</strong> (<em>str</em>) – Additional meta information on the order, JSON-encoded.</p></li>
<li><p><strong>sales_channel</strong> (<em>str</em>) – Identifier of the sales channel this order was created through.</p></li>
</ul>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.Order.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.Order.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.Order.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.Order.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pretix.base.models.Order.can_modify_answers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">can_modify_answers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#pretix.base.models.Order.can_modify_answers" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the user can change the question answers / attendee names that are
related to the order. This checks order status and modification deadlines. It also
returns <code class="docutils literal notranslate"><span class="pre">False</span></code> if there are no questions that can be answered.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pretix.base.models.Order.fees">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fees</span></span><a class="headerlink" href="#pretix.base.models.Order.fees" title="Permalink to this definition">¶</a></dt>
<dd><p>Related manager for all non-canceled fees. Use <code class="docutils literal notranslate"><span class="pre">all_fees</span></code> instead if you want
canceled positions as well.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pretix.base.models.Order.full_code">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">full_code</span></span><a class="headerlink" href="#pretix.base.models.Order.full_code" title="Permalink to this definition">¶</a></dt>
<dd><p>An order code which is unique among all events of a single organizer,
built by concatenating the event slug and the order code.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pretix.base.models.Order.positions">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">positions</span></span><a class="headerlink" href="#pretix.base.models.Order.positions" title="Permalink to this definition">¶</a></dt>
<dd><p>Related manager for all non-canceled positions. Use <code class="docutils literal notranslate"><span class="pre">all_positions</span></code> instead if you want
canceled positions as well.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Order.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Order.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current instance. Override this in a subclass if you want to
control the saving process.</p>
<p>The ‘force_insert’ and ‘force_update’ parameters can be used to insist
that the “save” must be an SQL insert or update (or equivalent for
non-SQL backends), respectively. Normally, they should not be set.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Order.send_mail">
<span class="sig-name descname"><span class="pre">send_mail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subject</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">LazyI18nString</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_entry_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'pretix.event.order.email.sent'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pretix.base.models.User" title="pretix.base.models.auth.User"><span class="pre">User</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sender</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invoices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attach_tickets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pretix.base.models.OrderPosition" title="pretix.base.models.orders.OrderPosition"><span class="pre">OrderPosition</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_email</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attach_ical</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Order.send_mail" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends an email to the user that placed this order. Basically, this method does two things:</p>
<ul class="simple">
<li><p>Call <code class="docutils literal notranslate"><span class="pre">pretix.base.services.mail.mail</span></code> with useful values for the <code class="docutils literal notranslate"><span class="pre">event</span></code>, <code class="docutils literal notranslate"><span class="pre">locale</span></code>, <code class="docutils literal notranslate"><span class="pre">recipient</span></code> and
<code class="docutils literal notranslate"><span class="pre">order</span></code> parameters.</p></li>
<li><p>Create a <code class="docutils literal notranslate"><span class="pre">LogEntry</span></code> with the email contents.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subject</strong> – Subject of the email</p></li>
<li><p><strong>template</strong> – LazyI18nString or template filename, see <code class="docutils literal notranslate"><span class="pre">pretix.base.services.mail.mail</span></code> for more details</p></li>
<li><p><strong>context</strong> – Dictionary to use for rendering the template</p></li>
<li><p><strong>log_entry_type</strong> – Key to be used for the log entry</p></li>
<li><p><strong>user</strong> – Administrative user who triggered this mail to be sent</p></li>
<li><p><strong>headers</strong> – Dictionary with additional mail headers</p></li>
<li><p><strong>sender</strong> – Custom email sender.</p></li>
<li><p><strong>attach_tickets</strong> – Attach tickets of this order, if they are existing and ready to download</p></li>
<li><p><strong>attach_ical</strong> – Attach relevant ICS files</p></li>
<li><p><strong>position</strong> – An order position this refers to. If given, no invoices will be attached, the tickets will
only be attached for this position and child positions, the link will only point to the
position and the attendee email will be used if available.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pretix.base.models.Order.ticket_download_date">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ticket_download_date</span></span><a class="headerlink" href="#pretix.base.models.Order.ticket_download_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the first date the tickets for this order can be downloaded or <code class="docutils literal notranslate"><span class="pre">None</span></code> if there is no
restriction.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pretix.base.models.Order.user_cancel_allowed">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">user_cancel_allowed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#pretix.base.models.Order.user_cancel_allowed" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether or not this order can be canceled by the user.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pretix.base.models.Order.user_change_allowed">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">user_change_allowed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#pretix.base.models.Order.user_change_allowed" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether or not this order can be canceled by the user.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.AbstractPosition">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">AbstractPosition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.AbstractPosition" title="Permalink to this definition">¶</a></dt>
<dd><p>A position can either be one line of an order or an item placed in a cart.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subevent</strong> (<a class="reference internal" href="#pretix.base.models.SubEvent" title="pretix.base.models.SubEvent"><em>SubEvent</em></a>) – The date in the event series, if event series are enabled</p></li>
<li><p><strong>item</strong> (<a class="reference internal" href="#pretix.base.models.Item" title="pretix.base.models.Item"><em>Item</em></a>) – The selected item</p></li>
<li><p><strong>variation</strong> (<a class="reference internal" href="#pretix.base.models.ItemVariation" title="pretix.base.models.ItemVariation"><em>ItemVariation</em></a>) – The selected ItemVariation or null, if the item has no variations</p></li>
<li><p><strong>datetime</strong> (<em>datetime</em>) – The datetime this item was put into the cart</p></li>
<li><p><strong>expires</strong> (<em>datetime</em>) – The date until this item is guaranteed to be reserved</p></li>
<li><p><strong>price</strong> (<em>decimal.Decimal</em>) – The price of this item</p></li>
<li><p><strong>attendee_name_parts</strong> (<em>str</em>) – The parts of the attendee’s name, if entered.</p></li>
<li><p><strong>attendee_name_cached</strong> (<em>str</em>) – The concatenated version of the attendee’s name, if entered.</p></li>
<li><p><strong>attendee_email</strong> (<em>str</em>) – The attendee’s email, if entered.</p></li>
<li><p><strong>voucher</strong> (<a class="reference internal" href="#pretix.base.models.Voucher" title="pretix.base.models.Voucher"><em>Voucher</em></a>) – A voucher that has been applied to this sale</p></li>
<li><p><strong>meta_info</strong> (<em>str</em>) – Additional meta information on the position, JSON-encoded.</p></li>
<li><p><strong>seat</strong> (<em>Seat</em>) – Seat, if reserved seating is used.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.AbstractPosition.cache_answers">
<span class="sig-name descname"><span class="pre">cache_answers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.AbstractPosition.cache_answers" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates two properties on the object.
(1) answ: a dictionary of question.id → answer string
(2) questions: a list of Question objects, extended by an ‘answer’ property</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.AbstractPosition.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.AbstractPosition.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current instance. Override this in a subclass if you want to
control the saving process.</p>
<p>The ‘force_insert’ and ‘force_update’ parameters can be used to insist
that the “save” must be an SQL insert or update (or equivalent for
non-SQL backends), respectively. Normally, they should not be set.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.OrderPosition">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">OrderPosition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.OrderPosition" title="Permalink to this definition">¶</a></dt>
<dd><p>An OrderPosition is one line of an order, representing one ordered item
of a specified type (or variation). This has all properties of
AbstractPosition.</p>
<p>The default <code class="docutils literal notranslate"><span class="pre">OrderPosition.objects</span></code> manager only contains fees that are not <code class="docutils literal notranslate"><span class="pre">canceled</span></code>. If
you ant all objects, you need to use <code class="docutils literal notranslate"><span class="pre">OrderPosition.all</span></code> instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order</strong> (<a class="reference internal" href="#pretix.base.models.Order" title="pretix.base.models.Order"><em>Order</em></a>) – The order this position is a part of</p></li>
<li><p><strong>positionid</strong> (<em>int</em>) – A local ID of this position, counted for each order individually</p></li>
<li><p><strong>tax_rate</strong> (<em>Decimal</em>) – The tax rate applied to this position</p></li>
<li><p><strong>tax_rule</strong> (<em>TaxRule</em>) – The tax rule applied to this position</p></li>
<li><p><strong>tax_value</strong> (<em>Decimal</em>) – The tax amount included in the price</p></li>
<li><p><strong>secret</strong> (<em>str</em>) – The secret used for ticket QR codes</p></li>
<li><p><strong>canceled</strong> (<em>bool</em>) – True, if this position is canceled and should no longer be regarded</p></li>
<li><p><strong>pseudonymization_id</strong> (<em>str</em>) – The QR code content for lead scanning</p></li>
</ul>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.OrderPosition.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.OrderPosition.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.OrderPosition.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.OrderPosition.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.OrderPosition.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.OrderPosition.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current instance. Override this in a subclass if you want to
control the saving process.</p>
<p>The ‘force_insert’ and ‘force_update’ parameters can be used to insist
that the “save” must be an SQL insert or update (or equivalent for
non-SQL backends), respectively. Normally, they should not be set.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.OrderPosition.send_mail">
<span class="sig-name descname"><span class="pre">send_mail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subject</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">LazyI18nString</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_entry_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'pretix.event.order.email.sent'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pretix.base.models.User" title="pretix.base.models.auth.User"><span class="pre">User</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sender</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invoices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attach_tickets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.OrderPosition.send_mail" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends an email to the attendee. Basically, this method does two things:</p>
<ul class="simple">
<li><p>Call <code class="docutils literal notranslate"><span class="pre">pretix.base.services.mail.mail</span></code> with useful values for the <code class="docutils literal notranslate"><span class="pre">event</span></code>, <code class="docutils literal notranslate"><span class="pre">locale</span></code>, <code class="docutils literal notranslate"><span class="pre">recipient</span></code> and
<code class="docutils literal notranslate"><span class="pre">order</span></code> parameters.</p></li>
<li><p>Create a <code class="docutils literal notranslate"><span class="pre">LogEntry</span></code> with the email contents.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subject</strong> – Subject of the email</p></li>
<li><p><strong>template</strong> – LazyI18nString or template filename, see <code class="docutils literal notranslate"><span class="pre">pretix.base.services.mail.mail</span></code> for more details</p></li>
<li><p><strong>context</strong> – Dictionary to use for rendering the template</p></li>
<li><p><strong>log_entry_type</strong> – Key to be used for the log entry</p></li>
<li><p><strong>user</strong> – Administrative user who triggered this mail to be sent</p></li>
<li><p><strong>headers</strong> – Dictionary with additional mail headers</p></li>
<li><p><strong>sender</strong> – Custom email sender.</p></li>
<li><p><strong>attach_tickets</strong> – Attach tickets of this order, if they are existing and ready to download</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.OrderFee">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">OrderFee</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.OrderFee" title="Permalink to this definition">¶</a></dt>
<dd><p>An OrderFee object represents a fee that is added to the order total independently of
the actual positions. This might for example be a payment or a shipping fee.</p>
<p>The default <code class="docutils literal notranslate"><span class="pre">OrderFee.objects</span></code> manager only contains fees that are not <code class="docutils literal notranslate"><span class="pre">canceled</span></code>. If
you ant all objects, you need to use <code class="docutils literal notranslate"><span class="pre">OrderFee.all</span></code> instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>Decimal</em>) – Gross price of this fee</p></li>
<li><p><strong>order</strong> (<a class="reference internal" href="#pretix.base.models.Order" title="pretix.base.models.Order"><em>Order</em></a>) – Order this fee is charged with</p></li>
<li><p><strong>fee_type</strong> (<em>str</em>) – The type of the fee, currently <code class="docutils literal notranslate"><span class="pre">payment</span></code>, <code class="docutils literal notranslate"><span class="pre">shipping</span></code>, <code class="docutils literal notranslate"><span class="pre">service</span></code>, <code class="docutils literal notranslate"><span class="pre">giftcard</span></code>, or <code class="docutils literal notranslate"><span class="pre">other</span></code>.</p></li>
<li><p><strong>description</strong> (<em>str</em>) – A human-readable description of the fee</p></li>
<li><p><strong>internal_type</strong> (<em>str</em>) – An internal string to group fees by, e.g. the identifier string of a payment provider</p></li>
<li><p><strong>tax_rate</strong> (<em>Decimal</em>) – The tax rate applied to this fee</p></li>
<li><p><strong>tax_rule</strong> (<em>TaxRule</em>) – The tax rule applied to this fee</p></li>
<li><p><strong>tax_value</strong> (<em>Decimal</em>) – The tax amount included in the price</p></li>
<li><p><strong>canceled</strong> (<em>bool</em>) – True, if this position is canceled and should no longer be regarded</p></li>
</ul>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.OrderFee.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.OrderFee.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.OrderFee.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.OrderFee.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.OrderFee.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.OrderFee.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current instance. Override this in a subclass if you want to
control the saving process.</p>
<p>The ‘force_insert’ and ‘force_update’ parameters can be used to insist
that the “save” must be an SQL insert or update (or equivalent for
non-SQL backends), respectively. Normally, they should not be set.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.OrderPayment">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">OrderPayment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.OrderPayment" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a payment or payment attempt for an order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> – A globally unique ID for this payment</p></li>
<li><p><strong>local_id</strong> (<em>int</em>) – An ID of this payment, counting from one for every order independently.</p></li>
<li><p><strong>state</strong> (<em>str</em>) – The state of the payment, one of <code class="docutils literal notranslate"><span class="pre">created</span></code>, <code class="docutils literal notranslate"><span class="pre">pending</span></code>, <code class="docutils literal notranslate"><span class="pre">confirmed</span></code>, <code class="docutils literal notranslate"><span class="pre">failed</span></code>,
<code class="docutils literal notranslate"><span class="pre">canceled</span></code>, or <code class="docutils literal notranslate"><span class="pre">refunded</span></code>.</p></li>
<li><p><strong>amount</strong> (<em>Decimal</em>) – The payment amount</p></li>
<li><p><strong>order</strong> (<a class="reference internal" href="#pretix.base.models.Order" title="pretix.base.models.Order"><em>Order</em></a>) – The order that is paid</p></li>
<li><p><strong>created</strong> (<em>datetime</em>) – The creation time of this record</p></li>
<li><p><strong>payment_date</strong> (<em>datetime</em>) – The completion time of this payment</p></li>
<li><p><strong>provider</strong> (<em>str</em>) – The payment provider in use</p></li>
<li><p><strong>info</strong> (<em>str</em>) – Provider-specific meta information (in JSON format)</p></li>
<li><p><strong>fee</strong> (<a class="reference internal" href="#pretix.base.models.OrderFee" title="pretix.base.models.OrderFee"><em>pretix.base.models.OrderFee</em></a>) – The <code class="docutils literal notranslate"><span class="pre">OrderFee</span></code> object used to track the fee for this order.</p></li>
</ul>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.OrderPayment.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.OrderPayment.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.OrderPayment.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.OrderPayment.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.OrderPayment.confirm">
<span class="sig-name descname"><span class="pre">confirm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count_waitinglist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_mail</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mail_text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lock</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.OrderPayment.confirm" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the payment as complete. If possible, this also marks the order as paid if no further
payment is required</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>count_waitinglist</strong> (<em>boolean</em>) – Whether, when calculating quota, people on the waiting list should be taken into
consideration (default: <code class="docutils literal notranslate"><span class="pre">True</span></code>).</p></li>
<li><p><strong>force</strong> (<em>boolean</em>) – Whether this payment should be marked as paid even if no remaining
quota is available (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>).</p></li>
<li><p><strong>ignore_date</strong> – Whether this order should be marked as paid even when the last date of payments is over.</p></li>
<li><p><strong>send_mail</strong> (<em>boolean</em>) – Whether an email should be sent to the user about this event (default: <code class="docutils literal notranslate"><span class="pre">True</span></code>).</p></li>
<li><p><strong>user</strong> – The user who performed the change</p></li>
<li><p><strong>auth</strong> – The API auth token that performed the change</p></li>
<li><p><strong>mail_text</strong> (<em>str</em>) – Additional text to be included in the email</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#pretix.base.models.Quota.QuotaExceededException" title="pretix.base.models.Quota.QuotaExceededException"><strong>Quota.QuotaExceededException</strong></a> – if the quota is exceeded and <code class="docutils literal notranslate"><span class="pre">force</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.OrderPayment.create_external_refund">
<span class="sig-name descname"><span class="pre">create_external_refund</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">amount</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">execution_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'{}'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.OrderPayment.create_external_refund" title="Permalink to this definition">¶</a></dt>
<dd><p>This should be called to create an OrderRefund object when a refund has triggered
by an external source, e.g. when a credit card payment has been refunded by the
credit card provider.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>amount</strong> (<em>Decimal</em>) – Amount to refund. If not given, the full payment amount will be used.</p></li>
<li><p><strong>execution_date</strong> (<em>datetime</em>) – Date of the refund. Defaults to the current time.</p></li>
<li><p><strong>info</strong> (<em>str</em>) – Additional information, defaults to <code class="docutils literal notranslate"><span class="pre">&quot;{}&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>OrderRefund</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.OrderPayment.fail">
<span class="sig-name descname"><span class="pre">fail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.OrderPayment.fail" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the order as failed and sets info to <code class="docutils literal notranslate"><span class="pre">info</span></code>, but only if the order is in <code class="docutils literal notranslate"><span class="pre">created</span></code> or <code class="docutils literal notranslate"><span class="pre">pending</span></code>
state. This is equivalent to setting <code class="docutils literal notranslate"><span class="pre">state</span></code> to <code class="docutils literal notranslate"><span class="pre">OrderPayment.PAYMENT_STATE_FAILED</span></code> and logging a failure,
but it adds strong database logging since we do not want to report a failure for an order that has just
been marked as paid.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pretix.base.models.OrderPayment.full_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">full_id</span></span><a class="headerlink" href="#pretix.base.models.OrderPayment.full_id" title="Permalink to this definition">¶</a></dt>
<dd><p>The full human-readable ID of this payment, constructed by the order code and the <code class="docutils literal notranslate"><span class="pre">local_id</span></code>
field with <code class="docutils literal notranslate"><span class="pre">-P-</span></code> in between.
:return:</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pretix.base.models.OrderPayment.info_data">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">info_data</span></span><a class="headerlink" href="#pretix.base.models.OrderPayment.info_data" title="Permalink to this definition">¶</a></dt>
<dd><p>This property allows convenient access to the data stored in the <code class="docutils literal notranslate"><span class="pre">info</span></code>
attribute by automatically encoding and decoding the content as JSON.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pretix.base.models.OrderPayment.payment_provider">
<span class="sig-name descname"><span class="pre">payment_provider</span></span><a class="headerlink" href="#pretix.base.models.OrderPayment.payment_provider" title="Permalink to this definition">¶</a></dt>
<dd><p>Cached access to an instance of the payment provider in use.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pretix.base.models.OrderPayment.refunded_amount">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">refunded_amount</span></span><a class="headerlink" href="#pretix.base.models.OrderPayment.refunded_amount" title="Permalink to this definition">¶</a></dt>
<dd><p>The sum of all refund amounts in <code class="docutils literal notranslate"><span class="pre">done</span></code>, <code class="docutils literal notranslate"><span class="pre">transit</span></code>, or <code class="docutils literal notranslate"><span class="pre">created</span></code> states associated
with this payment.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.OrderPayment.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.OrderPayment.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current instance. Override this in a subclass if you want to
control the saving process.</p>
<p>The ‘force_insert’ and ‘force_update’ parameters can be used to insist
that the “save” must be an SQL insert or update (or equivalent for
non-SQL backends), respectively. Normally, they should not be set.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.OrderRefund">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">OrderRefund</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.OrderRefund" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a refund or refund attempt for an order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> – A globally unique ID for this refund</p></li>
<li><p><strong>local_id</strong> (<em>int</em>) – An ID of this refund, counting from one for every order independently.</p></li>
<li><p><strong>state</strong> (<em>str</em>) – The state of the refund, one of <code class="docutils literal notranslate"><span class="pre">created</span></code>, <code class="docutils literal notranslate"><span class="pre">transit</span></code>, <code class="docutils literal notranslate"><span class="pre">external</span></code>, <code class="docutils literal notranslate"><span class="pre">canceled</span></code>,
<code class="docutils literal notranslate"><span class="pre">failed</span></code>, or <code class="docutils literal notranslate"><span class="pre">done</span></code>.</p></li>
<li><p><strong>source</strong> – How this refund was started, one of <code class="docutils literal notranslate"><span class="pre">buyer</span></code>, <code class="docutils literal notranslate"><span class="pre">admin</span></code>, or <code class="docutils literal notranslate"><span class="pre">external</span></code>.</p></li>
<li><p><strong>amount</strong> (<em>Decimal</em>) – The refund amount</p></li>
<li><p><strong>order</strong> (<a class="reference internal" href="#pretix.base.models.Order" title="pretix.base.models.Order"><em>Order</em></a>) – The order that is refunded</p></li>
<li><p><strong>created</strong> (<em>datetime</em>) – The creation time of this record</p></li>
<li><p><strong>execution_date</strong> (<em>datetime</em>) – The completion time of this refund</p></li>
<li><p><strong>provider</strong> (<em>str</em>) – The payment provider in use</p></li>
<li><p><strong>info</strong> (<em>dict</em>) – Provider-specific meta information in JSON format</p></li>
</ul>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.OrderRefund.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.OrderRefund.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.OrderRefund.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.OrderRefund.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.OrderRefund.done">
<span class="sig-name descname"><span class="pre">done</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.OrderRefund.done" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the refund as complete. This does not modify the state of the order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user</strong> – The user who performed the change</p></li>
<li><p><strong>auth</strong> – The API auth token that performed the change</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pretix.base.models.OrderRefund.full_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">full_id</span></span><a class="headerlink" href="#pretix.base.models.OrderRefund.full_id" title="Permalink to this definition">¶</a></dt>
<dd><p>The full human-readable ID of this refund, constructed by the order code and the <code class="docutils literal notranslate"><span class="pre">local_id</span></code>
field with <code class="docutils literal notranslate"><span class="pre">-R-</span></code> in between.
:return:</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pretix.base.models.OrderRefund.info_data">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">info_data</span></span><a class="headerlink" href="#pretix.base.models.OrderRefund.info_data" title="Permalink to this definition">¶</a></dt>
<dd><p>This property allows convenient access to the data stored in the <code class="docutils literal notranslate"><span class="pre">info</span></code>
attribute by automatically encoding and decoding the content as JSON.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pretix.base.models.OrderRefund.payment_provider">
<span class="sig-name descname"><span class="pre">payment_provider</span></span><a class="headerlink" href="#pretix.base.models.OrderRefund.payment_provider" title="Permalink to this definition">¶</a></dt>
<dd><p>Cached access to an instance of the payment provider in use.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.OrderRefund.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.OrderRefund.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current instance. Override this in a subclass if you want to
control the saving process.</p>
<p>The ‘force_insert’ and ‘force_update’ parameters can be used to insist
that the “save” must be an SQL insert or update (or equivalent for
non-SQL backends), respectively. Normally, they should not be set.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.CartPosition">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">CartPosition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.CartPosition" title="Permalink to this definition">¶</a></dt>
<dd><p>A cart position is similar to an order line, except that it is not
yet part of a binding order but just placed by some user in his or
her cart. It therefore normally has a much shorter expiration time
than an ordered position, but still blocks an item in the quota pool
as we do not want to throw out users while they’re clicking through
the checkout process. This has all properties of AbstractPosition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<a class="reference internal" href="#pretix.base.models.Event" title="pretix.base.models.Event"><em>Event</em></a>) – The event this belongs to</p></li>
<li><p><strong>cart_id</strong> (<em>str</em>) – The user session that contains this cart position</p></li>
</ul>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.CartPosition.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.CartPosition.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.CartPosition.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.CartPosition.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.QuestionAnswer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">QuestionAnswer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.QuestionAnswer" title="Permalink to this definition">¶</a></dt>
<dd><p>The answer to a Question, connected to an OrderPosition or CartPosition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>orderposition</strong> (<a class="reference internal" href="#pretix.base.models.OrderPosition" title="pretix.base.models.OrderPosition"><em>OrderPosition</em></a>) – The order position this is related to, or null if this is
related to a cart position.</p></li>
<li><p><strong>cartposition</strong> (<a class="reference internal" href="#pretix.base.models.CartPosition" title="pretix.base.models.CartPosition"><em>CartPosition</em></a>) – The cart position this is related to, or null if this is related
to an order position.</p></li>
<li><p><strong>question</strong> (<a class="reference internal" href="#pretix.base.models.Question" title="pretix.base.models.Question"><em>Question</em></a>) – The question this is an answer for</p></li>
<li><p><strong>answer</strong> (<em>str</em>) – The actual answer data</p></li>
</ul>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.QuestionAnswer.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.QuestionAnswer.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.QuestionAnswer.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.QuestionAnswer.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.QuestionAnswer.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.QuestionAnswer.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current instance. Override this in a subclass if you want to
control the saving process.</p>
<p>The ‘force_insert’ and ‘force_update’ parameters can be used to insist
that the “save” must be an SQL insert or update (or equivalent for
non-SQL backends), respectively. Normally, they should not be set.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.Checkin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">Checkin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Checkin" title="Permalink to this definition">¶</a></dt>
<dd><p>A check-in object is created when a person enters or exits the event.</p>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.Checkin.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.Checkin.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.Checkin.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.Checkin.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Checkin.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Checkin.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current instance. Override this in a subclass if you want to
control the saving process.</p>
<p>The ‘force_insert’ and ‘force_update’ parameters can be used to insist
that the “save” must be an SQL insert or update (or equivalent for
non-SQL backends), respectively. Normally, they should not be set.</p>
</dd></dl>

</dd></dl>

</section>
<section id="logging">
<h2>Logging<a class="headerlink" href="#logging" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.LogEntry">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">LogEntry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.LogEntry" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a change or action that has been performed on another object
in the database. This uses django.contrib.contenttypes to allow a
relation to an arbitrary database object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>datetime</strong> (<em>datetime</em>) – The timestamp of the logged action</p></li>
<li><p><strong>user</strong> (<a class="reference internal" href="#pretix.base.models.User" title="pretix.base.models.User"><em>User</em></a>) – The user that performed the action</p></li>
<li><p><strong>action_type</strong> (<em>str</em>) – The type of action that has been performed. This is
used to look up the renderer used to describe the action in a human-
readable way. This should be some namespaced value using dotted
notation to avoid duplicates, e.g.
<code class="docutils literal notranslate"><span class="pre">&quot;pretix.plugins.banktransfer.incoming_transfer&quot;</span></code>.</p></li>
<li><p><strong>data</strong> (<em>str</em>) – Arbitrary data that can be used by the log action renderer</p></li>
</ul>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.LogEntry.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.LogEntry.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.LogEntry.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.LogEntry.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="invoicing">
<h2>Invoicing<a class="headerlink" href="#invoicing" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.Invoice">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">Invoice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Invoice" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents an invoice that is issued because of an order. Because invoices are legally required
not to change, this object duplicates a lot of data (e.g. the invoice address).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order</strong> (<a class="reference internal" href="#pretix.base.models.Order" title="pretix.base.models.Order"><em>Order</em></a>) – The associated order</p></li>
<li><p><strong>event</strong> (<a class="reference internal" href="#pretix.base.models.Event" title="pretix.base.models.Event"><em>Event</em></a>) – The event this belongs to (for convenience)</p></li>
<li><p><strong>organizer</strong> (<a class="reference internal" href="#pretix.base.models.Organizer" title="pretix.base.models.Organizer"><em>Organizer</em></a>) – The organizer this belongs to (redundant, for enforcing uniqueness)</p></li>
<li><p><strong>invoice_no</strong> (<em>int</em>) – The human-readable, event-unique invoice number</p></li>
<li><p><strong>is_cancellation</strong> (<em>bool</em>) – Whether or not this is a cancellation instead of an invoice</p></li>
<li><p><strong>refers</strong> (<a class="reference internal" href="#pretix.base.models.Invoice" title="pretix.base.models.Invoice"><em>Invoice</em></a>) – A link to another invoice this invoice refers to, e.g. the canceled invoice in a cancellation</p></li>
<li><p><strong>invoice_from</strong> (<em>str</em>) – The sender address</p></li>
<li><p><strong>invoice_to</strong> (<em>str</em>) – The receiver address</p></li>
<li><p><strong>full_invoice_no</strong> (<em>str</em>) – The full invoice number (for performance reasons only)</p></li>
<li><p><strong>date</strong> (<em>date</em>) – The invoice date</p></li>
<li><p><strong>locale</strong> (<em>str</em>) – The locale in which the invoice should be printed</p></li>
<li><p><strong>introductory_text</strong> (<em>str</em>) – Introductory text for the invoice, e.g. for a greeting</p></li>
<li><p><strong>additional_text</strong> (<em>str</em>) – Additional text for the invoice</p></li>
<li><p><strong>payment_provider_text</strong> (<em>str</em>) – A payment provider specific text</p></li>
<li><p><strong>footer_text</strong> (<em>str</em>) – A footer text, displayed smaller and centered on every page</p></li>
<li><p><strong>foreign_currency_display</strong> (<em>str</em>) – A different currency that taxes should also be displayed in.</p></li>
<li><p><strong>foreign_currency_rate</strong> (<em>Decimal</em>) – The rate of a foreign currency that the taxes should be displayed in.</p></li>
<li><p><strong>foreign_currency_rate_date</strong> (<em>date</em>) – The date of the foreign currency exchange rates.</p></li>
<li><p><strong>file</strong> (<em>File</em>) – The filename of the rendered invoice</p></li>
</ul>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.Invoice.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.Invoice.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.Invoice.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.Invoice.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Invoice.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Invoice.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deleting an Invoice would allow for the creation of another Invoice object
with the same invoice_no as the deleted one. For various reasons, invoice_no
should be reliably unique for an event.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pretix.base.models.Invoice.number">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">number</span></span><a class="headerlink" href="#pretix.base.models.Invoice.number" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the invoice number in a human-readable string with the event slug prepended.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Invoice.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Invoice.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current instance. Override this in a subclass if you want to
control the saving process.</p>
<p>The ‘force_insert’ and ‘force_update’ parameters can be used to insist
that the “save” must be an SQL insert or update (or equivalent for
non-SQL backends), respectively. Normally, they should not be set.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.InvoiceLine">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">InvoiceLine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.InvoiceLine" title="Permalink to this definition">¶</a></dt>
<dd><p>One position listed on an Invoice.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>invoice</strong> (<a class="reference internal" href="#pretix.base.models.Invoice" title="pretix.base.models.Invoice"><em>Invoice</em></a>) – The invoice this belongs to</p></li>
<li><p><strong>description</strong> (<em>str</em>) – The item description</p></li>
<li><p><strong>gross_value</strong> (<em>decimal.Decimal</em>) – The gross value</p></li>
<li><p><strong>tax_value</strong> (<em>decimal.Decimal</em>) – The included tax (as an absolute value)</p></li>
<li><p><strong>tax_rate</strong> (<em>decimal.Decimal</em>) – The applied tax rate in percent</p></li>
<li><p><strong>tax_name</strong> (<em>str</em>) – The name of the applied tax rate</p></li>
<li><p><strong>subevent</strong> (<a class="reference internal" href="#pretix.base.models.SubEvent" title="pretix.base.models.SubEvent"><em>SubEvent</em></a>) – The subevent this line refers to</p></li>
<li><p><strong>event_date_from</strong> (<em>datetime</em>) – Event date of the (sub)event at the time the invoice was created</p></li>
<li><p><strong>event_date_to</strong> (<em>datetime</em>) – Event end date of the (sub)event at the time the invoice was created</p></li>
<li><p><strong>item</strong> (<a class="reference internal" href="#pretix.base.models.Item" title="pretix.base.models.Item"><em>Item</em></a>) – The item this line refers to</p></li>
<li><p><strong>variation</strong> (<a class="reference internal" href="#pretix.base.models.ItemVariation" title="pretix.base.models.ItemVariation"><em>ItemVariation</em></a>) – The variation this line refers to</p></li>
<li><p><strong>attendee_name</strong> (<em>str</em>) – The attendee name at the time the invoice was created</p></li>
</ul>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.InvoiceLine.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.InvoiceLine.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.InvoiceLine.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.InvoiceLine.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="vouchers">
<h2>Vouchers<a class="headerlink" href="#vouchers" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pretix.base.models.Voucher">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pretix.base.models.</span></span><span class="sig-name descname"><span class="pre">Voucher</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Voucher" title="Permalink to this definition">¶</a></dt>
<dd><p>A Voucher can reserve ticket quota or allow special prices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<a class="reference internal" href="#pretix.base.models.Event" title="pretix.base.models.Event"><em>Event</em></a>) – The event this voucher is valid for</p></li>
<li><p><strong>subevent</strong> (<a class="reference internal" href="#pretix.base.models.SubEvent" title="pretix.base.models.SubEvent"><em>SubEvent</em></a>) – The date in the event series, if event series are enabled</p></li>
<li><p><strong>code</strong> (<em>str</em>) – The secret voucher code</p></li>
<li><p><strong>max_usages</strong> (<em>int</em>) – The number of times this voucher can be redeemed</p></li>
<li><p><strong>redeemed</strong> (<em>int</em>) – The number of times this voucher already has been redeemed</p></li>
<li><p><strong>valid_until</strong> (<em>datetime</em>) – The expiration date of this voucher (optional)</p></li>
<li><p><strong>block_quota</strong> (<em>bool</em>) – If set to true, this voucher will reserve quota for its holder</p></li>
<li><p><strong>allow_ignore_quota</strong> (<em>bool</em>) – If set to true, this voucher can be redeemed even if the event is sold out</p></li>
<li><p><strong>price_mode</strong> (<em>str</em>) – Sets how this voucher affects a product’s price. Can be <code class="docutils literal notranslate"><span class="pre">none</span></code>, <code class="docutils literal notranslate"><span class="pre">set</span></code>, <code class="docutils literal notranslate"><span class="pre">subtract</span></code>
or <code class="docutils literal notranslate"><span class="pre">percent</span></code>.</p></li>
<li><p><strong>value</strong> (<em>decimal.Decimal</em>) – The value by which the price should be modified in the way specified by <code class="docutils literal notranslate"><span class="pre">price_mode</span></code>.</p></li>
<li><p><strong>item</strong> (<a class="reference internal" href="#pretix.base.models.Item" title="pretix.base.models.Item"><em>Item</em></a>) – If set, the item to sell</p></li>
<li><p><strong>variation</strong> (<a class="reference internal" href="#pretix.base.models.ItemVariation" title="pretix.base.models.ItemVariation"><em>ItemVariation</em></a>) – If set, the variation to sell</p></li>
<li><p><strong>quota</strong> (<a class="reference internal" href="#pretix.base.models.Quota" title="pretix.base.models.Quota"><em>Quota</em></a>) – If set, the quota to choose an item from</p></li>
<li><p><strong>comment</strong> (<em>str</em>) – An internal comment that will only be visible to staff, and never displayed to the user</p></li>
<li><p><strong>tag</strong> (<em>str</em>) – Use this field to group multiple vouchers together. If you enter the same value for multiple
vouchers, you can get statistics on how many of them have been redeemed etc.</p></li>
</ul>
</dd>
</dl>
<p>Various constraints apply:</p>
<ul class="simple">
<li><p>You need to either select a quota or an item</p></li>
<li><p>If you select an item that has variations but do not select a variation, you cannot set block_quota</p></li>
</ul>
<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.Voucher.DoesNotExist">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesNotExist</span></span><a class="headerlink" href="#pretix.base.models.Voucher.DoesNotExist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pretix.base.models.Voucher.MultipleObjectsReturned">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleObjectsReturned</span></span><a class="headerlink" href="#pretix.base.models.Voucher.MultipleObjectsReturned" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Voucher.applies_to">
<span class="sig-name descname"><span class="pre">applies_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pretix.base.models.Item" title="pretix.base.models.items.Item"><span class="pre">Item</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">variation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#pretix.base.models.ItemVariation" title="pretix.base.models.items.ItemVariation"><span class="pre">ItemVariation</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#pretix.base.models.Voucher.applies_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether this voucher applies to a given item (and optionally
a variation).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Voucher.calculate_price">
<span class="sig-name descname"><span class="pre">calculate_price</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">original_price</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Decimal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_discount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Decimal</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Decimal</span></span></span><a class="headerlink" href="#pretix.base.models.Voucher.calculate_price" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns how the price given in original_price would be modified if this
voucher is applied, i.e. replaced by a different price or reduced by a
certain percentage. If the voucher does not modify the price, the
original price will be returned.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Voucher.clean">
<span class="sig-name descname"><span class="pre">clean</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Voucher.clean" title="Permalink to this definition">¶</a></dt>
<dd><p>Hook for doing any extra model-wide validation after clean() has been
called on every field by self.clean_fields. Any ValidationError raised
by this method will not be associated with a particular field; it will
have a special-case association with the field defined by NON_FIELD_ERRORS.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Voucher.distinct_orders">
<span class="sig-name descname"><span class="pre">distinct_orders</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Voucher.distinct_orders" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of orders where this voucher has been used.
Each order will appear at most once.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Voucher.is_active">
<span class="sig-name descname"><span class="pre">is_active</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Voucher.is_active" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if a voucher has not yet been redeemed, but is still
within its validity (if valid_until is set).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Voucher.is_in_cart">
<span class="sig-name descname"><span class="pre">is_in_cart</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#pretix.base.models.Voucher.is_in_cart" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether a cart position exists that uses this voucher.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Voucher.is_ordered">
<span class="sig-name descname"><span class="pre">is_ordered</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#pretix.base.models.Voucher.is_ordered" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether an order position exists that uses this voucher.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pretix.base.models.Voucher.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pretix.base.models.Voucher.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current instance. Override this in a subclass if you want to
control the saving process.</p>
<p>The ‘force_insert’ and ‘force_update’ parameters can be used to insist
that the “save” must be an SQL insert or update (or equivalent for
non-SQL backends), respectively. Normally, they should not be set.</p>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="urlconfig.html" class="btn btn-neutral float-right" title="Working with URLs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Implementation and Utilities" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014-2025, Raphael Michel.

    </p>
  </div>
    <small>Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a theme that is based on a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.</small> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'3.18.0.dev0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js"></script>
      <script type="text/javascript" src="../../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>