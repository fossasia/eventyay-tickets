

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Webhooks &mdash; pretix 3.18.0.dev0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../_static/css/pretix.css" type="text/css" />

  
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/css/pretix.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.css" type="text/css" />
  

  
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="pretix 3.18.0.dev0 documentation" href="../index.html"/>
        <link rel="up" title="REST API" href="index.html"/>
        <link rel="next" title="API Usage Guides" href="guides/index.html"/>
        <link rel="prev" title="Rate limiting" href="ratelimit.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo-white.svg" class="logo" />
          
          </a>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin/index.html">Administrator documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">REST API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="fundamentals.html">Basic concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="auth.html">Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="resources/index.html">Resources and endpoints</a></li>
<li class="toctree-l2"><a class="reference internal" href="ratelimit.html">Rate limiting</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Webhooks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#configuring-webhooks">Configuring webhooks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#receiving-webhooks">Receiving webhooks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#responding-to-a-webhook">Responding to a webhook</a></li>
<li class="toctree-l3"><a class="reference internal" href="#debugging-webhooks">Debugging webhooks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="guides/index.html">API Usage Guides</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Developer documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">Plugin documentation</a></li>
</ul>

            
          
        </div>

          
              
              
                  <div class="version">
                      3.18
                  </div>
              
          
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pretix</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">REST API</a> &raquo;</li>
        
      <li>Webhooks</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/webhooks.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="webhooks">
<span id="id1"></span><h1>Webhooks<a class="headerlink" href="#webhooks" title="Permalink to this heading">¶</a></h1>
<p>pretix can send webhook calls to notify your application of any changes that happen inside pretix. This is especially
useful for everything triggered by an actual user, such as a new ticket sale or the arrival of a payment.</p>
<p>You can register any number of webhook URLs that pretix will notify any time one of the supported events occurs inside
your organizer account. A great example use case of webhooks would be to add the buyer to your mailing list every time
a new order comes in.</p>
<section id="configuring-webhooks">
<h2>Configuring webhooks<a class="headerlink" href="#configuring-webhooks" title="Permalink to this heading">¶</a></h2>
<p>You can find the list of your active webhooks in the “Webhook” section of your organizer account:</p>
<a class="screenshot"
               data-lightbox="group-cce917a0-26de-4f60-bf52-d0ba9202b6ff"
               href="../_images/webhook_list1.png"
               title=""
               data-title=""
               
               ><img src="../_images/webhook_list1.png"
                     class="align-center"
                     width="250px"
                     height="auto"
                     alt=""/>
                </a><p>Click “Create webhook” if you want to add a new URL. You will then be able to enter the URL pretix shall call for
notifications. You need to select any number of notification types that you want to receive and you can optionally
filter the events you want to receive notifications for.</p>
<a class="screenshot"
               data-lightbox="group-ab709b96-a38a-4555-9a37-557929665cc0"
               href="../_images/webhook_edit1.png"
               title=""
               data-title=""
               
               ><img src="../_images/webhook_edit1.png"
                     class="align-center"
                     width="250px"
                     height="auto"
                     alt=""/>
                </a><p>You can also configure webhooks <a class="reference internal" href="resources/webhooks.html#rest-webhooks"><span class="std std-ref">through the API itself</span></a>.</p>
</section>
<section id="receiving-webhooks">
<h2>Receiving webhooks<a class="headerlink" href="#receiving-webhooks" title="Permalink to this heading">¶</a></h2>
<p>Creating a webhook endpoint on your server is no different from creating any other page on your website. If your
website is written in PHP, you might just create a new <code class="docutils literal notranslate"><span class="pre">.php</span></code> file on your server; if you use a web framework like
Symfony or Django, you would just create a new route with the desired URL.</p>
<p>We will call your URL with a HTTP <code class="docutils literal notranslate"><span class="pre">POST</span></code> request with a <code class="docutils literal notranslate"><span class="pre">JSON</span></code> body. In PHP, you can parse this like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$input = @file_get_contents(&#39;php://input&#39;);
$event_json = json_decode($input);
// Do something with $event_json
</pre></div>
</div>
<p>In Django, you would create a view like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">my_webhook_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
  <span class="n">event_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
  <span class="c1"># Do something with event_json</span>
  <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
</pre></div>
</div>
<p>More samples for the language of your choice are easy to find online.</p>
<p>The exact body of the request varies by notification type, but for the main types included with pretix core, such as
those related to changes of an order, it will look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;notification_id&quot;</span><span class="p">:</span> <span class="mi">123455</span><span class="p">,</span>
  <span class="s2">&quot;organizer&quot;</span><span class="p">:</span> <span class="s2">&quot;acmecorp&quot;</span><span class="p">,</span>
  <span class="s2">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;democon&quot;</span><span class="p">,</span>
  <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;ABC23&quot;</span><span class="p">,</span>
  <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;pretix.event.order.placed&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Notifications regarding a check-in will contain more details like <code class="docutils literal notranslate"><span class="pre">orderposition_id</span></code>
and <code class="docutils literal notranslate"><span class="pre">checkin_list</span></code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>You should not trust data supplied to your webhook, but only use it as a trigger to fetch updated data.
Anyone could send data there if they guess the correct URL and you won’t be able to tell. Therefore, we
only include the minimum amount of data necessary for you to fetch the changed objects from our
<a class="reference internal" href="index.html#rest-api"><span class="std std-ref">REST API</span></a> in an authenticated way.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In very rare cases, you could receive the same webhook notification twice. We try to avoid it, but we
prefer it over missing a notification.</p>
</div>
<p>If you want to further prevent others from accessing your webhook URL, you can also use <a class="reference external" href="https://en.wikipedia.org/wiki/Basic_access_authentication">Basic authentication</a> and
supply the URL to us in the format of <code class="docutils literal notranslate"><span class="pre">https://username:password&#64;domain.com/path/</span></code>.
We recommend that you use HTTPS for your webhook URL and might require it in the future. If HTTPS is used, we require
that a valid certificate is in use.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you use a web framework that makes use of automatic CSRF protection, this protection might prevent us
from calling your webhook URL. In this case, we recommend that you turn of CSRF protection selectively
for that route. In Django, you can do this by putting the <code class="docutils literal notranslate"><span class="pre">&#64;csrf_exempt</span></code> decorator on your view. In
Rails, you can pass an <code class="docutils literal notranslate"><span class="pre">except</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">protect_from_forgery</span></code>.</p>
</div>
</section>
<section id="responding-to-a-webhook">
<h2>Responding to a webhook<a class="headerlink" href="#responding-to-a-webhook" title="Permalink to this heading">¶</a></h2>
<p>If you successfully received a webhook call, your endpoint should return a HTTP status code between <code class="docutils literal notranslate"><span class="pre">200</span></code> and <code class="docutils literal notranslate"><span class="pre">299</span></code>.
If any other status code is returned, we will assume you did not receive the call. This does mean that any redirection
or <code class="docutils literal notranslate"><span class="pre">304</span> <span class="pre">Not</span> <span class="pre">Modified</span></code> response will be treated as a failure. pretix will not follow any <code class="docutils literal notranslate"><span class="pre">301</span></code> or <code class="docutils literal notranslate"><span class="pre">302</span></code> redirect
headers and pretix will ignore all other information in your response headers or body.</p>
<p>If we do not receive a status code in the range of <code class="docutils literal notranslate"><span class="pre">200</span></code> and <code class="docutils literal notranslate"><span class="pre">299</span></code>, pretix will retry to deliver for up to three
days with an exponential back off. Therefore, we recommend that you implement your endpoint in a way where calling it
multiple times for the same event due to a perceived error does not do any harm.</p>
<p>There is only one exception: If status code <code class="docutils literal notranslate"><span class="pre">410</span> <span class="pre">Gone</span></code> is returned, we will assume the
endpoint does not exist any more and automatically disable the webhook.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you use a self-hosted version of pretix (i.e. not our SaaS offering at eventyay.com) and you did not
configure a background task queue, failed webhooks will not be retried.</p>
</div>
</section>
<section id="debugging-webhooks">
<h2>Debugging webhooks<a class="headerlink" href="#debugging-webhooks" title="Permalink to this heading">¶</a></h2>
<p>If you want to debug your webhooks, you can view a log of all sent notifications and the responses of your server for
30 days right next to your configuration.</p>
</section>
</section>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="guides/index.html" class="btn btn-neutral float-right" title="API Usage Guides" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ratelimit.html" class="btn btn-neutral" title="Rate limiting" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014-2025, Raphael Michel.

    </p>
  </div>
    <small>Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a theme that is based on a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.</small> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'3.18.0.dev0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js"></script>
      <script type="text/javascript" src="../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>